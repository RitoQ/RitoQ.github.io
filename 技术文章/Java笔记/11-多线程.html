<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>11-多线程 | Rito的技术文档</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/img/favicon.ico">
    <link rel="stylesheet" href="/css/style.css">
    <script charset="utf-8" src="/js/custom.js"></script>
    <meta name="description" content="点赞、转发、收藏">
    <meta name="keywords" content="Rito的技术文档,vuepress,自建博客,Rito">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    <meta name="robots" content="all">
    <meta name="author" content="Rito">
    
    <link rel="preload" href="/assets/css/0.styles.57064493.css" as="style"><link rel="preload" href="/assets/js/app.38effb1a.js" as="script"><link rel="preload" href="/assets/js/4.a5fe3d1f.js" as="script"><link rel="preload" href="/assets/js/1.d44b9672.js" as="script"><link rel="preload" href="/assets/js/5.1bd179c6.js" as="script"><link rel="preload" href="/assets/js/25.ffc473ff.js" as="script"><link rel="prefetch" href="/assets/js/10.96694777.js"><link rel="prefetch" href="/assets/js/11.13309ff8.js"><link rel="prefetch" href="/assets/js/12.3a325a4b.js"><link rel="prefetch" href="/assets/js/13.5e0826af.js"><link rel="prefetch" href="/assets/js/14.a5f03065.js"><link rel="prefetch" href="/assets/js/15.771db559.js"><link rel="prefetch" href="/assets/js/16.607201ba.js"><link rel="prefetch" href="/assets/js/17.c33d1263.js"><link rel="prefetch" href="/assets/js/18.ad0cb801.js"><link rel="prefetch" href="/assets/js/19.936eee49.js"><link rel="prefetch" href="/assets/js/20.35d2a6fc.js"><link rel="prefetch" href="/assets/js/21.fae6b4eb.js"><link rel="prefetch" href="/assets/js/22.308c88db.js"><link rel="prefetch" href="/assets/js/23.630392e9.js"><link rel="prefetch" href="/assets/js/24.ee831072.js"><link rel="prefetch" href="/assets/js/26.16a11398.js"><link rel="prefetch" href="/assets/js/27.04c31dff.js"><link rel="prefetch" href="/assets/js/28.17d89977.js"><link rel="prefetch" href="/assets/js/29.4220bd71.js"><link rel="prefetch" href="/assets/js/30.044a7090.js"><link rel="prefetch" href="/assets/js/31.735caacb.js"><link rel="prefetch" href="/assets/js/32.20b42eab.js"><link rel="prefetch" href="/assets/js/33.fda451a5.js"><link rel="prefetch" href="/assets/js/34.1f4705c6.js"><link rel="prefetch" href="/assets/js/35.2b2093b4.js"><link rel="prefetch" href="/assets/js/36.6c803a5a.js"><link rel="prefetch" href="/assets/js/37.d12506b8.js"><link rel="prefetch" href="/assets/js/38.90df9c32.js"><link rel="prefetch" href="/assets/js/39.91b7338c.js"><link rel="prefetch" href="/assets/js/40.2988fb1b.js"><link rel="prefetch" href="/assets/js/6.2cb45519.js"><link rel="prefetch" href="/assets/js/7.152dffc3.js"><link rel="prefetch" href="/assets/js/8.fd0bd873.js"><link rel="prefetch" href="/assets/js/9.2ff855ae.js"><link rel="prefetch" href="/assets/js/vendors~flowchart.acd63fff.js">
    <link rel="stylesheet" href="/assets/css/0.styles.57064493.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div><div class="theme-container" data-v-4698c43e><div data-v-4698c43e><div id="loader-wrapper" class="loading-wrapper" data-v-1c4f0192 data-v-4698c43e data-v-4698c43e><div class="loader-main" data-v-1c4f0192><div data-v-1c4f0192></div><div data-v-1c4f0192></div><div data-v-1c4f0192></div><div data-v-1c4f0192></div></div> <!----> <!----></div> <div class="password-shadow password-wrapper-out" style="display:none;" data-v-6cbeab0a data-v-4698c43e data-v-4698c43e><h3 class="title" style="display:none;" data-v-6cbeab0a data-v-6cbeab0a>Rito的技术文档</h3> <!----> <label id="box" class="inputBox" style="display:none;" data-v-6cbeab0a data-v-6cbeab0a><input type="password" value="" data-v-6cbeab0a> <span data-v-6cbeab0a>Konck! Knock!</span> <button data-v-6cbeab0a>OK</button></label> <div class="footer" style="display:none;" data-v-6cbeab0a data-v-6cbeab0a><span data-v-6cbeab0a><i class="iconfont reco-theme" data-v-6cbeab0a></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-6cbeab0a>vuePress-theme-reco</a></span> <span data-v-6cbeab0a><i class="iconfont reco-copyright" data-v-6cbeab0a></i> <a data-v-6cbeab0a><span data-v-6cbeab0a>Rito</span>
            
          <span data-v-6cbeab0a>2022 - </span>
          2022
        </a></span></div></div> <div class="hide" data-v-4698c43e><header class="navbar" data-v-4698c43e><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Rito的技术文档</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/guide/" class="nav-link"><i class="iconfont reco-eye"></i>
  本站指南
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-api"></i>
      技术分享
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Java</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/技术文章/java笔记/01-基础知识.html" class="nav-link"><i class="iconfont undefined"></i>
  Java基础
</a></li></ul></li><li class="dropdown-item"><h4>前端</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/技术文章/vue/vue01.html" class="nav-link"><i class="iconfont undefined"></i>
  前端基础
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-faq"></i>
      面试分享
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/面试分享/集合相关知识点/HashMap知识点.html" class="nav-link"><i class="iconfont undefined"></i>
  集合相关知识点
</a></li><li class="dropdown-item"><!----> <a href="/面试分享/数据库相关知识点/MySQL.html" class="nav-link"><i class="iconfont undefined"></i>
  数据库相关知识点
</a></li><li class="dropdown-item"><h4>开发框架相关知识点</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/面试分享/开发框架相关知识点/spring/spring知识点.html" class="nav-link"><i class="iconfont undefined"></i>
  spring
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-blog"></i>
      个人博客
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://www.cnblogs.com/rito-blog/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-blog"></i>
  博客园
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-4698c43e></div> <aside class="sidebar" data-v-4698c43e><div class="personal-info-wrapper" data-v-6c8ffc9c><img src="/avatar.png" alt="author-avatar" class="personal-img" data-v-6c8ffc9c> <h3 class="name" data-v-6c8ffc9c>
    Rito
  </h3> <div class="num" data-v-6c8ffc9c><div data-v-6c8ffc9c><h3 data-v-6c8ffc9c>4</h3> <h6 data-v-6c8ffc9c>文章</h6></div> <div data-v-6c8ffc9c><h3 data-v-6c8ffc9c>8</h3> <h6 data-v-6c8ffc9c>标签</h6></div></div> <hr data-v-6c8ffc9c></div> <nav class="nav-links"><div class="nav-item"><a href="/guide/" class="nav-link"><i class="iconfont reco-eye"></i>
  本站指南
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-api"></i>
      技术分享
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Java</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/技术文章/java笔记/01-基础知识.html" class="nav-link"><i class="iconfont undefined"></i>
  Java基础
</a></li></ul></li><li class="dropdown-item"><h4>前端</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/技术文章/vue/vue01.html" class="nav-link"><i class="iconfont undefined"></i>
  前端基础
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-faq"></i>
      面试分享
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/面试分享/集合相关知识点/HashMap知识点.html" class="nav-link"><i class="iconfont undefined"></i>
  集合相关知识点
</a></li><li class="dropdown-item"><!----> <a href="/面试分享/数据库相关知识点/MySQL.html" class="nav-link"><i class="iconfont undefined"></i>
  数据库相关知识点
</a></li><li class="dropdown-item"><h4>开发框架相关知识点</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/面试分享/开发框架相关知识点/spring/spring知识点.html" class="nav-link"><i class="iconfont undefined"></i>
  spring
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-blog"></i>
      个人博客
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://www.cnblogs.com/rito-blog/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-blog"></i>
  博客园
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Java笔记</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/技术文章/Java笔记/01-基础知识.html" class="sidebar-link">01-基础知识</a></li><li><a href="/技术文章/Java笔记/02-语言基础.html" class="sidebar-link">02-语言基础</a></li><li><a href="/技术文章/Java笔记/03-流程控制.html" class="sidebar-link">03-流程控制</a></li><li><a href="/技术文章/Java笔记/04-数组.html" class="sidebar-link">04-数组</a></li><li><a href="/技术文章/Java笔记/05-面向对象_封装.html" class="sidebar-link">05-面向对象_封装</a></li><li><a href="/技术文章/Java笔记/06-面向对象_继承.html" class="sidebar-link">06-面向对象_继承</a></li><li><a href="/技术文章/Java笔记/07-面向对象_多态.html" class="sidebar-link">07-面向对象_多态</a></li><li><a href="/技术文章/Java笔记/08-面向对象补充.html" class="sidebar-link">08-面向对象补充</a></li><li><a href="/技术文章/Java笔记/09-01-集合_Collection_泛型_数据结构.html" class="sidebar-link">9-01-集合Collection泛型_数据结构</a></li><li><a href="/技术文章/Java笔记/09-02-集合_List.html" class="sidebar-link">09-02-集合_List</a></li><li><a href="/技术文章/Java笔记/09-03-集合_Set.html" class="sidebar-link">09-03集合Set</a></li><li><a href="/技术文章/Java笔记/09-04-集合_Map.html" class="sidebar-link">09-04-集合_Map</a></li><li><a href="/技术文章/Java笔记/10-异常.html" class="sidebar-link">10-异常</a></li><li><a href="/技术文章/Java笔记/11-多线程.html" class="active sidebar-link">11-多线程</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/技术文章/Java笔记/11-多线程.html#_1-1、介绍" class="sidebar-link">1.1、介绍</a></li><li class="sidebar-sub-header"><a href="/技术文章/Java笔记/11-多线程.html#_1-2、程序运行原理" class="sidebar-link">1.2、程序运行原理</a></li><li class="sidebar-sub-header"><a href="/技术文章/Java笔记/11-多线程.html#_1-3、单核cpu和多核cpu的理解" class="sidebar-link">1.3、单核CPU和多核CPU的理解</a></li><li class="sidebar-sub-header"><a href="/技术文章/Java笔记/11-多线程.html#_1-4、并行与并发" class="sidebar-link">1.4、并行与并发</a></li><li class="sidebar-sub-header"><a href="/技术文章/Java笔记/11-多线程.html#_1-5、使用多线程的优点" class="sidebar-link">1.5、使用多线程的优点</a></li><li class="sidebar-sub-header"><a href="/技术文章/Java笔记/11-多线程.html#_1-6、何时需要多线程" class="sidebar-link">1.6、何时需要多线程</a></li><li class="sidebar-sub-header"><a href="/技术文章/Java笔记/11-多线程.html#_1-7、主线程" class="sidebar-link">1.7、主线程</a></li><li class="sidebar-sub-header"><a href="/技术文章/Java笔记/11-多线程.html#_2-1、thread类" class="sidebar-link">2.1、Thread类</a></li><li class="sidebar-sub-header"><a href="/技术文章/Java笔记/11-多线程.html#_2-2、继承thread类" class="sidebar-link">2.2、继承Thread类</a></li><li class="sidebar-sub-header"><a href="/技术文章/Java笔记/11-多线程.html#_2-3、实现runnable接口" class="sidebar-link">2.3、实现Runnable接口</a></li><li class="sidebar-sub-header"><a href="/技术文章/Java笔记/11-多线程.html#_2-4、thread和runnable的区别" class="sidebar-link">2.4、Thread和Runnable的区别</a></li><li class="sidebar-sub-header"><a href="/技术文章/Java笔记/11-多线程.html#_2-5、线程优先级" class="sidebar-link">2.5、线程优先级</a></li><li class="sidebar-sub-header"><a href="/技术文章/Java笔记/11-多线程.html#_2-6、匿名内部类方式实现线程的创建" class="sidebar-link">2.6、匿名内部类方式实现线程的创建</a></li><li class="sidebar-sub-header"><a href="/技术文章/Java笔记/11-多线程.html#_2-7、练习" class="sidebar-link">2.7、练习</a></li><li class="sidebar-sub-header"><a href="/技术文章/Java笔记/11-多线程.html#_3-1、说明" class="sidebar-link">3.1、说明</a></li><li class="sidebar-sub-header"><a href="/技术文章/Java笔记/11-多线程.html#_3-2、需求" class="sidebar-link">3.2、需求</a></li><li class="sidebar-sub-header"><a href="/技术文章/Java笔记/11-多线程.html#_3-3、代码实现" class="sidebar-link">3.3、代码实现</a></li><li class="sidebar-sub-header"><a href="/技术文章/Java笔记/11-多线程.html#_3-4、线程同步" class="sidebar-link">3.4、线程同步</a></li><li class="sidebar-sub-header"><a href="/技术文章/Java笔记/11-多线程.html#_3-5、线程安全的类" class="sidebar-link">3.5、线程安全的类</a></li><li class="sidebar-sub-header"><a href="/技术文章/Java笔记/11-多线程.html#_3-6、死锁" class="sidebar-link">3.6、死锁</a></li><li class="sidebar-sub-header"><a href="/技术文章/Java笔记/11-多线程.html#_3-7、lock锁" class="sidebar-link">3.7、Lock锁</a></li><li class="sidebar-sub-header"><a href="/技术文章/Java笔记/11-多线程.html#_3-8、等待唤醒机制" class="sidebar-link">3.8、等待唤醒机制</a></li><li class="sidebar-sub-header"><a href="/技术文章/Java笔记/11-多线程.html#_4-1、说明" class="sidebar-link">4.1、说明</a></li><li class="sidebar-sub-header"><a href="/技术文章/Java笔记/11-多线程.html#_4-2、状态图" class="sidebar-link">4.2、状态图</a></li><li class="sidebar-sub-header"><a href="/技术文章/Java笔记/11-多线程.html#_4-3、初始状态" class="sidebar-link">4.3、初始状态</a></li><li class="sidebar-sub-header"><a href="/技术文章/Java笔记/11-多线程.html#_4-4、运行状态" class="sidebar-link">4.4、运行状态</a></li><li class="sidebar-sub-header"><a href="/技术文章/Java笔记/11-多线程.html#_4-5、超时等待" class="sidebar-link">4.5、超时等待</a></li><li class="sidebar-sub-header"><a href="/技术文章/Java笔记/11-多线程.html#_4-6、blocked-锁阻塞" class="sidebar-link">4.6、BLOCKED（锁阻塞）</a></li><li class="sidebar-sub-header"><a href="/技术文章/Java笔记/11-多线程.html#_4-7、-waiting-无限等待" class="sidebar-link">4.7、 Waiting（无限等待）</a></li><li class="sidebar-sub-header"><a href="/技术文章/Java笔记/11-多线程.html#_4-8、总结" class="sidebar-link">4.8、总结</a></li><li class="sidebar-sub-header"><a href="/技术文章/Java笔记/11-多线程.html#_5-1、说明" class="sidebar-link">5.1、说明</a></li><li class="sidebar-sub-header"><a href="/技术文章/Java笔记/11-多线程.html#_5-2、概念" class="sidebar-link">5.2、概念</a></li><li class="sidebar-sub-header"><a href="/技术文章/Java笔记/11-多线程.html#_5-3、为什么要使用线程池" class="sidebar-link">5.3、为什么要使用线程池？</a></li><li class="sidebar-sub-header"><a href="/技术文章/Java笔记/11-多线程.html#_5-4、线程池的使用" class="sidebar-link">5.4、线程池的使用</a></li><li class="sidebar-sub-header"><a href="/技术文章/Java笔记/11-多线程.html#_5-5、使用线程池方式-runnable接口" class="sidebar-link">5.5、使用线程池方式-Runnable接口</a></li><li class="sidebar-sub-header"><a href="/技术文章/Java笔记/11-多线程.html#_5-6、使用线程池方式-callable接口" class="sidebar-link">5.6、使用线程池方式—Callable接口</a></li><li class="sidebar-sub-header"><a href="/技术文章/Java笔记/11-多线程.html#_5-7、线程池练习" class="sidebar-link">5.7、线程池练习</a></li></ul></li><li><a href="/技术文章/Java笔记/12-文件IO.html" class="sidebar-link">12-文件IO</a></li><li><a href="/技术文章/Java笔记/13-常用API.html" class="sidebar-link">13-常用API</a></li><li><a href="/技术文章/Java笔记/14-反射.html" class="sidebar-link">14-反射</a></li><li><a href="/技术文章/Java笔记/15-注解.html" class="sidebar-link">15-注解</a></li><li><a href="/技术文章/Java笔记/16-内部类.html" class="sidebar-link">16-内部类</a></li><li><a href="/技术文章/Java笔记/17-设计模式.html" class="sidebar-link">17-设计模式</a></li></ul></section></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-6cbeab0a data-v-4698c43e><h3 class="title" style="display:none;" data-v-6cbeab0a data-v-6cbeab0a></h3> <!----> <label id="box" class="inputBox" style="display:none;" data-v-6cbeab0a data-v-6cbeab0a><input type="password" value="" data-v-6cbeab0a> <span data-v-6cbeab0a>Konck! Knock!</span> <button data-v-6cbeab0a>OK</button></label> <div class="footer" style="display:none;" data-v-6cbeab0a data-v-6cbeab0a><span data-v-6cbeab0a><i class="iconfont reco-theme" data-v-6cbeab0a></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-6cbeab0a>vuePress-theme-reco</a></span> <span data-v-6cbeab0a><i class="iconfont reco-copyright" data-v-6cbeab0a></i> <a data-v-6cbeab0a><span data-v-6cbeab0a>Rito</span>
            
          <span data-v-6cbeab0a>2022 - </span>
          2022
        </a></span></div></div> <div data-v-4698c43e><main class="page"><!----> <div class="page-title" style="display:none;"><h1>11-多线程</h1> <hr> <div data-v-484a899e><i class="iconfont reco-account" data-v-484a899e><span data-v-484a899e>Rito</span></i> <!----> <!----> <!----></div></div> <div class="theme-reco-content content__default" style="display:none;"><h1 id="_11-多线程"><a href="#_11-多线程" class="header-anchor">#</a> 11-多线程</h1> <h2 id="_1-1、介绍"><a href="#_1-1、介绍" class="header-anchor">#</a> 1.1、介绍</h2> <p>​		学习多线程之前，我们先要了解几个关于多线程有关的概念。</p> <p>​		程序(program)**：**为完成特定任务、用某种语言编写的一组指令的集合，是静态的一段代码。</p> <p>​		进程：进程指正在运行的程序。确切的来说，当一个程序进入内存运行，即变成一个进程，进程是处于运行过程中的程序，并且具有一定独立功能。</p> <p>​		换句话说：进程是动态的，程序是静态的。</p> <p><img src="/assets/img/0118.db097fa6.png" alt="0118"></p> <p>​		线程：线程是进程中的一个执行单元，负责当前进程中程序的执行，一个进程中至少有一个线程。一个进程中是可以有多个线程的，这个应用程序也可以称之为多线程程序。<strong>线程是调度和执行的单位</strong> 。</p> <p>​		简而言之：一个程序运行后至少有一个进程，一个进程中可以包含多个线程。</p> <p><img src="/assets/img/0119.2daf580e.png" alt="0119"></p> <p>​		什么是多线程呢？即就是一个程序中有多个线程在同时执行。</p> <p>​		通过下图来区别单线程程序与多线程程序的不同：</p> <ul><li>单线程程序：即，若有多个任务只能依次执行。当上一个任务执行结束后，下一个任务开始执行。如，去网吧上网，网吧只能让一个人上网，当这个人下机后，下一个人才能上网。</li> <li>多线程程序：即，若有多个任务可以同时执行。如，去网吧上网，网吧能够让多个人同时上网。</li></ul> <p><img src="/assets/img/0120.db2c69cd.png" alt="0120"></p> <h2 id="_1-2、程序运行原理"><a href="#_1-2、程序运行原理" class="header-anchor">#</a> 1.2、程序运行原理</h2> <h3 id="_1-2-1、说明"><a href="#_1-2-1、说明" class="header-anchor">#</a> 1.2.1、说明</h3> <ul><li><p>分时调度</p> <p>​	所有线程轮流使用 CPU 的使用权，平均分配每个线程占用 CPU 的时间。</p></li> <li><p>抢占式调度</p> <p>​	优先让优先级高的线程使用 CPU，如果线程的优先级相同，那么会随机选择一个(线程随机性)，Java使用的为抢占式调度。</p></li></ul> <p><img src="/assets/img/0121.1f844603.png" alt="0122"></p> <h3 id="_1-2-2、抢占式调度"><a href="#_1-2-2、抢占式调度" class="header-anchor">#</a> 1.2.2、抢占式调度</h3> <p>​		大部分操作系统都支持多进程并发运行，现在的操作系统几乎都支持同时运行多个程序。比如：现在我们上课一边使用编辑器，一边使用录屏软件，同时还开着画图板，dos窗口等软件。此时，这些程序是在同时运行，”感觉这些软件好像在同一时刻运行着“。</p> <p><img src="/assets/img/0122.78e42eab.png" alt="0122"></p> <p>​		实际上，CPU(中央处理器)使用抢占式调度模式在多个线程间进行着高速的切换。对于CPU的一个核而言，某个时刻，只能执行一个线程，而 CPU的在多个线程间切换速度相对我们的感觉要快，看上去就是在同一时刻运行。</p> <p>​		其实，多线程程序并不能提高程序的运行速度，但能够提高程序运行效率，让CPU的使用率更高。</p> <h2 id="_1-3、单核cpu和多核cpu的理解"><a href="#_1-3、单核cpu和多核cpu的理解" class="header-anchor">#</a> 1.3、单核CPU和多核CPU的理解</h2> <ul><li>单核CPU，其实是一种假的多线程，因为在一个时间单元内，也只能执行一个线程的任务。例如：虽然有多车道，但是收费站只有一个工作人员在收费，只有收了费才能通过，那么CPU就好比收费人员。如果有某个人不想交钱，那么收费人员可以把他“挂起”（晾着他，等他想通了，准备好了钱，再去收费）。但是因为CPU时间单元特别短，因此感觉不出来。</li> <li>如果是多核的话，才能更好的发挥多线程的效率。（现在的服务器都是多核的）</li> <li>一个Java应用程序java.exe，其实至少有三个线程：main()主线程，gc()垃圾回收线程，异常处理线程。当然如果发生异常，会影响主线程。</li></ul> <h2 id="_1-4、并行与并发"><a href="#_1-4、并行与并发" class="header-anchor">#</a> 1.4、并行与并发</h2> <ul><li><p>并行</p> <p>​		多个CPU同时执行多个任务。比如：多个人同时做不同的事。</p> <p>​		指两个或多个事件在<strong>同一个时间段内</strong>发生。</p></li> <li><p>并发</p> <p>​		一个CPU(采用时间片)同时执行多个任务。比如：秒杀、多个人做同一件事。</p> <p>​		指两个或多个事件在<strong>同一时刻</strong>发生（同时发生）。</p></li></ul> <p><img src="/assets/img/2000.1b01b645.png" alt="0123"></p> <p>​		在操作系统中，安装了多个程序，并发指的是在一段时间内宏观上有多个程序同时运行，这在单 CPU 系统中，每一时刻只能有一道程序执行，即微观上这些程序是分时的交替运行，只不过是给人的感觉是同时运行，那是因为分时交替运行的时间是非常短的。</p> <p>​		而在多个 CPU 系统中，则这些可以并发执行的程序便可以分配到多个处理器上（CPU），实现多任务并行执行，即利用每个处理器来处理一个可以并发执行的程序，这样多个程序便可以同时执行。目前电脑市场上说的多核 CPU，便是多核处理器，核越多，并行处理的程序越多，能大大的提高电脑运行的效率。</p> <blockquote><p>注意：单核处理器的计算机肯定是不能并行的处理多个任务的，只能是多个任务在单个CPU上并发运行。同理,线程也是一样的，从宏观角度上理解线程是并行运行的，但是从微观角度上分析却是串行运行的，即一个线程一个线程的去运行，当系统只有一个CPU时，线程会以某种顺序执行多个线程，我们把这种情况称之为线程调度。</p></blockquote> <h2 id="_1-5、使用多线程的优点"><a href="#_1-5、使用多线程的优点" class="header-anchor">#</a> 1.5、使用多线程的优点</h2> <p>​		以单核CPU为例，只使用单个线程先后完成多个任务（调用多个方法），肯定比用多个线程来完成用的时间更短，为何仍需多线程呢？</p> <ol><li>提高应用程序的响应。对图形化界面更有意义，可增强用户体验。</li> <li>提高计算机系统CPU的利用率</li> <li>改善程序结构。将既长又复杂的进程分为多个线程，独立运行，利于理解和修改</li></ol> <h2 id="_1-6、何时需要多线程"><a href="#_1-6、何时需要多线程" class="header-anchor">#</a> 1.6、何时需要多线程</h2> <ul><li>程序需要同时执行两个或多个任务。</li> <li>程序需要实现一些需要等待的任务时，如用户输入、文件读写操作、网络操作、搜索等。</li> <li>需要一些后台运行的程序时。</li></ul> <h2 id="_1-7、主线程"><a href="#_1-7、主线程" class="header-anchor">#</a> 1.7、主线程</h2> <p>​		回想我们以前学习中写过的代码，当我们在dos命令行中输入java空格类名回车后，启动JVM，并且加载对应的class文件。虚拟机并会从main方法开始执行我们的程序代码，一直把main方法的代码执行结束。如果在执行过程遇到循环时间比较长的代码，那么在循环之后的其他代码是不会被马上执行的。如下代码演示：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Demo</span><span class="token punctuation">{</span>
	<span class="token class-name">String</span> name<span class="token punctuation">;</span>
	<span class="token class-name">Demo</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">void</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span>	<span class="token punctuation">{</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span><span class="token number">10000</span> <span class="token punctuation">;</span>i<span class="token operator">++</span> <span class="token punctuation">)</span>		<span class="token punctuation">{</span>
			<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;name=&quot;</span><span class="token operator">+</span>name<span class="token operator">+</span><span class="token string">&quot;,i=&quot;</span><span class="token operator">+</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">ThreadDemo</span> <span class="token punctuation">{</span>
	<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> 	<span class="token punctuation">{</span>
	    <span class="token class-name">Demo</span> d <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Demo</span><span class="token punctuation">(</span><span class="token string">&quot;小强&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Demo</span> d2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Demo</span><span class="token punctuation">(</span><span class="token string">&quot;旺财&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		d<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>		
		d2<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Hello World!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p>​		若在上述代码中show方法中的循环执行次数很多，这时在d.show();下面的代码是不会马上执行的，并且在dos窗口会看到不停的输出name=小强,i=值，这样的语句。为什么会这样呢？</p> <p>​		原因是：jvm启动后，必然有一个执行路径(线程)从main方法开始的，一直执行到main方法结束，这个线程在java中称之为主线程。当程序的主线程执行时，如果遇到了循环而导致程序在指定位置停留时间过长，则无法马上执行下面的程序，需要等待循环结束后能够执行。</p> <p>​		那么，能否实现一个主线程负责执行其中一个循环，再由另一个线程负责其他代码的执行，最终实现多部分代码同时执行的效果？</p> <p>​		能够实现同时执行，通过Java中的多线程技术来解决该问题。</p> <h1 id="二、线程的创建和使用"><a href="#二、线程的创建和使用" class="header-anchor">#</a> 二、线程的创建和使用</h1> <h2 id="_2-1、thread类"><a href="#_2-1、thread类" class="header-anchor">#</a> 2.1、Thread类</h2> <h3 id="_2-1-1、说明"><a href="#_2-1-1、说明" class="header-anchor">#</a> 2.1.1、说明</h3> <p>​		该如何创建线程呢？通过API中搜索，查到Thread类。通过阅读Thread类中的描述。Thread是程序中的执行线程。Java 虚拟机允许应用程序并发地运行多个执行线程。</p> <h3 id="_2-1-2、图示"><a href="#_2-1-2、图示" class="header-anchor">#</a> 2.1.2、图示</h3> <p><img src="data:image/png;base64,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" alt="0123"></p> <p><img src="data:image/png;base64,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" alt="0124"></p> <p><img src="/assets/img/0125.0d18882a.png" alt="0125"></p> <h3 id="_2-1-3、thread类的特性"><a href="#_2-1-3、thread类的特性" class="header-anchor">#</a> 2.1.3、Thread类的特性</h3> <ul><li>每个线程都是通过某个特定<code>Thread</code>对象的<code>run()</code>方法来完成操作的，经常把<code>run()</code>方法的主体称为线程体</li> <li>通过该<code>Thread</code>对象的<code>start()</code>方法来启动这个线程，而非直接调用<code>run()</code></li></ul> <h3 id="_2-1-4、两种方式"><a href="#_2-1-4、两种方式" class="header-anchor">#</a> 2.1.4、两种方式</h3> <p>继续阅读，发现创建新执行线程有两种方法。</p> <ul><li>一种方法是将类声明为 Thread 的子类。该子类应重写 Thread 类的 run 方法。创建对象，开启线程。run方法相当于其他线程的main方法。</li> <li>另一种方法是声明一个实现 Runnable 接口的类。该类然后实现 run 方法。然后创建Runnable的子类对象，传入到某个线程的构造方法中，开启线程。</li></ul> <h2 id="_2-2、继承thread类"><a href="#_2-2、继承thread类" class="header-anchor">#</a> 2.2、继承Thread类</h2> <h3 id="_2-2-1、代码实现"><a href="#_2-2-1、代码实现" class="header-anchor">#</a> 2.2.1、代码实现</h3> <p>​		创建线程的步骤：</p> <ol><li><p>定义一个类继承Thread。</p></li> <li><p>重写run方法。</p></li> <li><p>创建子类对象，就是创建线程对象。</p></li> <li><p>调用start方法，开启线程并让线程执行，同时还会告诉jvm去调用run方法。</p></li></ol> <ul><li><p>定义线程类</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyThread</span> <span class="token keyword">extends</span> <span class="token class-name">Thread</span> <span class="token punctuation">{</span>
	<span class="token comment">//定义指定线程名称的构造方法</span>
	<span class="token keyword">public</span> <span class="token class-name">MyThread</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token comment">//调用父类的String参数的构造方法，指定线程的名称</span>
		<span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token comment">/**
	 * 重写run方法，完成该线程执行的逻辑
	 */</span>
	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">&quot;：正在执行！&quot;</span><span class="token operator">+</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div></li> <li><p>测试类</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Demo01</span> <span class="token punctuation">{</span>
	<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token comment">//创建自定义线程对象</span>
		<span class="token class-name">MyThread</span> mt <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyThread</span><span class="token punctuation">(</span><span class="token string">&quot;新的线程！&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">//开启新线程</span>
		mt<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">//在主方法中执行for循环</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;main线程！&quot;</span><span class="token operator">+</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>思考：线程对象调用 run方法和调用start方法区别？</p> <p>线程对象调用run方法不开启线程。仅是对象调用方法。线程对象调用start开启线程，并让jvm调用run方法在开启的线程中执行。</p></li></ul> <h3 id="_2-2-2、继承thread类原理"><a href="#_2-2-2、继承thread类原理" class="header-anchor">#</a> 2.2.2、继承Thread类原理</h3> <p>​		我们为什么要继承Thread类，并调用其的start方法才能开启线程呢？</p> <p>继承Thread类：因为Thread类用来描述线程，具备线程应该有功能。那为什么不直接创建Thread类的对象呢？如下代码：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Thread</span> t1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
t1<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//这样做没有错，但是该start调用的是Thread类中的run方法，而这个run方法没有做什么事情，更重要的是这个run方法中并没有定义我们需要让线程执行的代码。</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>​		创建线程的目的是什么？</p> <p>​		是为了建立程序单独的执行路径，让多部分代码实现同时执行。也就是说线程创建并执行需要给定线程要执行的任务。</p> <p>​		对于之前所讲的主线程，它的任务定义在main函数中。自定义线程需要执行的任务都定义在run方法中。</p> <p>​		Thread类run方法中的任务并不是我们所需要的，只有重写这个run方法。既然Thread类已经定义了线程任务的编写位置（run方法），那么只要在编写位置（run方法）中定义任务代码即可。所以进行了重写run方法动作。</p> <h3 id="_2-2-3、多线程的内存图解"><a href="#_2-2-3、多线程的内存图解" class="header-anchor">#</a> 2.2.3、多线程的内存图解</h3> <p>​		多线程执行时，到底在内存中是如何运行的呢？</p> <p>​		以上个程序为例，进行图解说明：</p> <p>​		多线程执行时，在栈内存中，其实每一个执行线程都有一片自己所属的栈内存空间。进行方法的压栈和弹栈。</p> <p><img src="/assets/img/0126.a8addeb1.png" alt="0126"></p> <h3 id="_2-2-4、获取线程名称"><a href="#_2-2-4、获取线程名称" class="header-anchor">#</a> 2.2.4、获取线程名称</h3> <p>​		开启的线程都会有自己的独立运行栈内存，那么这些运行的线程的名字是什么呢？该如何获取呢？既然是线程的名字，按照面向对象的特点，是哪个对象的属性和谁的功能，那么我们就去找那个对象就可以了。查阅Thread类的API文档发现有个方法是获取当前正在运行的线程对象。还有个方法是获取当前线程对象的名称。既然找到了，我们就可以试试。</p> <p><img src="data:image/png;base64,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" alt="0127"></p> <ul><li>Thread.currentThread()获取当前线程对象</li> <li>Thread.currentThread().getName();获取当前线程对象的名称</li></ul> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">MyThread</span> <span class="token keyword">extends</span> <span class="token class-name">Thread</span> <span class="token punctuation">{</span>  <span class="token comment">//继承Thread</span>
	<span class="token class-name">MyThread</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//复写其中的run方法</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span><span class="token number">20</span> <span class="token punctuation">;</span>i<span class="token operator">++</span> <span class="token punctuation">)</span><span class="token punctuation">{</span>
			<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">&quot;,i=&quot;</span><span class="token operator">+</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">ThreadDemo</span> <span class="token punctuation">{</span>
	<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> 	<span class="token punctuation">{</span>
		<span class="token comment">//创建两个线程任务</span>
		<span class="token class-name">MyThread</span> d <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">MyThread</span> d2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		d<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//没有开启新线程, 在主线程调用run方法</span>
		d2<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//开启一个新线程，新线程调用run方法</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>​		通过结果观察，原来主线程的名称：main；自定义的线程：Thread-0，线程多个时，数字顺延。</p> <p>如Thread-1......。</p> <p>​		进行多线程编程时，不要忘记了Java程序运行是从主线程开始，main方法就是主线程的线程执行内容。</p> <h3 id="_2-2-5、再看一个问题"><a href="#_2-2-5、再看一个问题" class="header-anchor">#</a> 2.2.5、再看一个问题</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyThread</span> <span class="token keyword">extends</span> <span class="token class-name">Thread</span><span class="token punctuation">{</span> 
    <span class="token comment">/** 
    	利用继承中的特点  
     *	将线程名称传递 进行设置 
    */</span> 
    <span class="token keyword">public</span> <span class="token class-name">MyThread</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span><span class="token punctuation">{</span> 
        <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>
    
    <span class="token comment">/** 重写run方法  
    *	定义线程要执行的代码 
    */</span> 
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> 
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">20</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
            <span class="token comment">//getName()方法 来自父亲</span>
			<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token punctuation">}</span> 
    <span class="token punctuation">}</span> 
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Demo</span> <span class="token punctuation">{</span> 
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;这里是main线程&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token class-name">MyThread</span> mt <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyThread</span><span class="token punctuation">(</span><span class="token string">&quot;小强&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        mt<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//开启了一个新的线程 </span>
        
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">20</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;旺财:&quot;</span><span class="token operator">+</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token punctuation">}</span> 
    <span class="token punctuation">}</span> 
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><p><img src="/assets/img/0128.11489d76.png" alt="0128"></p> <p>​		程序启动运行main时候，java虚拟机启动一个进程，主线程main在main()调用时候被创建。随着调用mt的对象的start方法，另外一个新的线程也启动了，这样，整个应用就在多线程下运行。</p> <p>​		通过这张图我们可以很清晰的看到多线程的执行流程，那么为什么可以完成并发执行呢？我们再来讲一讲原理。</p> <p>​		多线程执行时，到底在内存中是如何运行的呢？以上个程序为例，进行图解说明：</p> <p>​		多线程执行时，在栈内存中，其实<strong>每一个执行线程都有一片自己所属的栈内存空间</strong>。进行方法的压栈和弹栈。</p> <p><img src="/assets/img/2002.fb194fee.png" alt="0129"></p> <p>​		当执行线程的任务结束了，线程自动在栈内存中释放了。但是当所有的执行线程都结束了，那么进程就结束了。</p> <h2 id="_2-3、实现runnable接口"><a href="#_2-3、实现runnable接口" class="header-anchor">#</a> 2.3、实现Runnable接口</h2> <h3 id="_2-3-1、说明"><a href="#_2-3-1、说明" class="header-anchor">#</a> 2.3.1、说明</h3> <p>​		创建线程的另一种方法是声明实现 Runnable 接口的类。该类然后实现 run 方法。然后创建Runnable的子类对象，传入到某个线程的构造方法中，开启线程。</p> <p>​		为何要实现Runnable接口，Runable是啥玩意呢？继续API搜索。</p> <p>​		查看Runnable接口说明文档：Runnable接口用来指定每个线程要执行的任务。包含了一个 run 的无参数抽象方法，需要由接口实现类重写该方法。</p> <p><img src="data:image/png;base64,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" alt="0129"></p> <p><img src="data:image/png;base64,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" alt="0130"></p> <p><img src="data:image/png;base64,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" alt="0131"></p> <h3 id="_2-3-2、代码实现"><a href="#_2-3-2、代码实现" class="header-anchor">#</a> 2.3.2、代码实现</h3> <p>​		创建线程的步骤。</p> <ol><li><p>定义类实现Runnable接口。</p></li> <li><p>覆盖接口中的run方法。。</p></li> <li><p>创建Thread类的对象</p></li> <li><p>将Runnable接口的子类对象作为参数传递给Thread类的构造函数。</p></li> <li><p>调用Thread类的start方法开启线程。</p></li></ol> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyRunnable</span> <span class="token keyword">implements</span> <span class="token class-name">Runnable</span><span class="token punctuation">{</span>

	<span class="token comment">//定义线程要执行的run方法逻辑</span>
	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;我的线程：正在执行！&quot;</span><span class="token operator">+</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Demo02</span> <span class="token punctuation">{</span>
	<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token comment">//创建线程执行目标类对象</span>
		<span class="token class-name">Runnable</span> runn <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyRunnable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">//将Runnable接口的子类对象作为参数传递给Thread类的构造函数</span>
		<span class="token class-name">Thread</span> thread <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span>runn<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">Thread</span> thread2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span>runn<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">//开启线程</span>
		thread<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		thread2<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;main线程：正在执行！&quot;</span><span class="token operator">+</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="_2-3-3、实现runnable的原理"><a href="#_2-3-3、实现runnable的原理" class="header-anchor">#</a> 2.3.3、实现Runnable的原理</h3> <p>​		为什么需要定一个类去实现Runnable接口呢？继承Thread类和实现Runnable接口有啥区别呢？</p> <p>​		实现Runnable接口，避免了继承Thread类的单继承局限性。覆盖Runnable接口中的run方法，将线程任务代码定义到run方法中。</p> <p>​		创建Thread类的对象，只有创建Thread类的对象才可以创建线程。线程任务已被封装到Runnable接口的run方法中，而这个run方法所属于Runnable接口的子类对象，所以将这个子类对象作为参数传递给Thread的构造函数，这样，线程对象创建时就可以明确要运行的线程的任务。</p> <h3 id="_2-3-4、实现runnable的好处"><a href="#_2-3-4、实现runnable的好处" class="header-anchor">#</a> 2.3.4、实现Runnable的好处</h3> <ul><li><p>第二种方式实现Runnable接口避免了单继承的局限性，所以较为常用。实现Runnable接口的方式，更加的符合面向对象，线程分为两部分，一部分线程对象，一部分线程任务。继承Thread类，线程对象和线程任务耦合在一起。一旦创建Thread类的子类对象，既是线程对象，有又有线程任务。实现runnable接口，将线程任务单独分离出来封装成对象，类型就是Runnable接口类型。Runnable接口对线程对象和线程任务进行解耦。</p></li> <li><p>适合多个相同程序的代码去处理同一个资源的情况，把线程和程序的代码、数据有效分离，较好的体现</p> <p>了面向对象的设计思想。</p></li></ul> <h2 id="_2-4、thread和runnable的区别"><a href="#_2-4、thread和runnable的区别" class="header-anchor">#</a> 2.4、Thread和Runnable的区别</h2> <p>​		如果一个类继承Thread，则不适合资源共享。但是如果实现了Runable接口的话，则很容易的实现资源共享。</p> <p><strong>总结：</strong></p> <p><strong>实现Runnable接口比继承Thread类所具有的优势：</strong></p> <ol><li><p>适合多个相同的程序代码的线程去共享同一个资源。</p></li> <li><p>可以避免java中的单继承的局限性。</p></li> <li><p>增加程序的健壮性，实现解耦操作，代码可以被多个线程共享，代码和线程独立。</p></li> <li><p>线程池只能放入实现Runable或Callable类线程，不能直接放入继承Thread的类。</p></li></ol> <h2 id="_2-5、线程优先级"><a href="#_2-5、线程优先级" class="header-anchor">#</a> 2.5、线程优先级</h2> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">/**
 * - 线程的优先级等级
 *   - MAX_PRIORITY：10
 *   - MIN _PRIORITY：1
 *   - NORM_PRIORITY：5 ---&gt;默认优先级
 * - 涉及的方法
 *   - getPriority() ：返回线程优先值
 *   - setPriority(intnewPriority) ：改变线程的优先级
 *
 *   说明:高优先级的线程要抢占低优先级线程cpu的执行权。
 *       但是只是从概率上讲，高优先级的线程高概率的情况下被执行。
 *       并不意味着只有当高优先级的线程执行完以后，低优先级的线程才会被执行。
 */</span>

<span class="token keyword">class</span> <span class="token class-name">HelloThread</span> <span class="token keyword">extends</span> <span class="token class-name">Thread</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> <span class="token number">100</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>j <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> <span class="token function">getPriority</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> j<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token class-name">HelloThread</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ThreadModeTest</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">HelloThread</span> h2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HelloThread</span><span class="token punctuation">(</span><span class="token string">&quot;Thread : 1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        h2<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//设置分线程的优先级</span>
        h2<span class="token punctuation">.</span><span class="token function">setPriority</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token constant">MAX_PRIORITY</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//给主线程命名</span>
        <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">&quot;主线程&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setPriority</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token constant">MIN_PRIORITY</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>j <span class="token operator">&lt;</span> <span class="token number">100</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>j <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> 
                                   <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getPriority</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> 
                                   <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> j<span class="token punctuation">)</span><span class="token punctuation">;</span>
            
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>h2<span class="token punctuation">.</span><span class="token function">isAlive</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br></div></div><h2 id="_2-6、匿名内部类方式实现线程的创建"><a href="#_2-6、匿名内部类方式实现线程的创建" class="header-anchor">#</a> 2.6、匿名内部类方式实现线程的创建</h2> <h3 id="_2-6-1、说明"><a href="#_2-6-1、说明" class="header-anchor">#</a> 2.6.1、说明</h3> <p>​		使用线程的内匿名内部类方式，可以方便的实现每个线程执行不同的线程任务操作。</p> <h3 id="_2-6-2、方式一"><a href="#_2-6-2、方式一" class="header-anchor">#</a> 2.6.2、方式一</h3> <p>​		创建线程对象时，直接重写Thread类中的run方法。</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> x <span class="token operator">&lt;</span> <span class="token number">40</span><span class="token punctuation">;</span> x<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
					<span class="token operator">+</span> <span class="token string">&quot;...X....&quot;</span> <span class="token operator">+</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="_2-6-3、方式二"><a href="#_2-6-3、方式二" class="header-anchor">#</a> 2.6.3、方式二</h3> <p>​		使用匿名内部类的方式实现Runnable接口，重新Runnable接口中的run方法。</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Runnable</span> r <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Runnable</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> x <span class="token operator">&lt;</span> <span class="token number">40</span><span class="token punctuation">;</span> x<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
					<span class="token operator">+</span> <span class="token string">&quot;...Y....&quot;</span> <span class="token operator">+</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="_2-7、练习"><a href="#_2-7、练习" class="header-anchor">#</a> 2.7、练习</h2> <h3 id="_2-7-1、需求"><a href="#_2-7-1、需求" class="header-anchor">#</a> 2.7.1、需求</h3> <p>​		多窗口卖票，创建三个c窗口卖票，总票数为100张。</p> <h3 id="_2-7-2、代码实现"><a href="#_2-7-2、代码实现" class="header-anchor">#</a> 2.7.2、代码实现</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Windows</span> <span class="token keyword">extends</span> <span class="token class-name">Thread</span><span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">int</span> ticket <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>ticket <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;:卖票，票号为: &quot;</span> <span class="token operator">+</span> ticket<span class="token punctuation">)</span><span class="token punctuation">;</span>
                ticket<span class="token operator">--</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">WindowsTest</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Windows</span> t1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Windows</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Windows</span> t2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Windows</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Windows</span> t3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Windows</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        t1<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">&quot;窗口1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        t2<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">&quot;窗口2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        t3<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">&quot;窗口3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        t1<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        t2<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        t3<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><p>​		此程序是有问题的，会出现超卖的现象。</p> <h1 id="三、线程安全"><a href="#三、线程安全" class="header-anchor">#</a> 三、线程安全</h1> <h2 id="_3-1、说明"><a href="#_3-1、说明" class="header-anchor">#</a> 3.1、说明</h2> <p>​		如果有多个线程在同时运行，而这些线程可能会同时运行这段代码。程序每次运行结果和单线程运行的结果是一样的，而且其他的变量的值也和预期的是一样的，就是线程安全的。</p> <h2 id="_3-2、需求"><a href="#_3-2、需求" class="header-anchor">#</a> 3.2、需求</h2> <p>​		演示线程的安全问题：</p> <p>​		电影院要卖票，我们模拟电影院的卖票过程。假设要播放的电影是 “功夫熊猫3”，本次电影的座位共100个(本场电影只能卖100张票)。</p> <p>​		我们来模拟电影院的售票窗口，实现多个窗口同时卖 “功夫熊猫3”这场电影票(多个窗口一起卖这100张票)</p> <p>需要窗口，采用线程对象来模拟；需要票，Runnable接口子类来模拟。</p> <h2 id="_3-3、代码实现"><a href="#_3-3、代码实现" class="header-anchor">#</a> 3.3、代码实现</h2> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Ticket</span> <span class="token keyword">implements</span> <span class="token class-name">Runnable</span> <span class="token punctuation">{</span>
	<span class="token comment">//共100票</span>
	<span class="token keyword">int</span> ticket <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>

	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token comment">//模拟卖票</span>
		<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>ticket <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token comment">//模拟选坐的操作</span>
				<span class="token keyword">try</span> <span class="token punctuation">{</span>
					<span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
					e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
				<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> 
                                   <span class="token string">&quot;正在卖票:&quot;</span> <span class="token operator">+</span> ticket<span class="token operator">--</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
 <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ThreadDemo</span> <span class="token punctuation">{</span>
	<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token comment">//创建票对象</span>
		<span class="token class-name">Ticket</span> ticket <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Ticket</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		
		<span class="token comment">//创建3个窗口</span>
		<span class="token class-name">Thread</span> t1  <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span>ticket<span class="token punctuation">,</span> <span class="token string">&quot;窗口1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">Thread</span> t2  <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span>ticket<span class="token punctuation">,</span> <span class="token string">&quot;窗口2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">Thread</span> t3  <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span>ticket<span class="token punctuation">,</span> <span class="token string">&quot;窗口3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		
		t1<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		t2<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		t3<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p><img src="data:image/png;base64,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" alt="0134"></p> <p>​		运行结果发现：上面程序出现了问题：</p> <ul><li>票出现了重复的票</li> <li>错误的票 0、-1</li></ul> <p>​		其实，线程安全问题都是由全局变量及静态变量引起的。若每个线程中对全局变量、静态变量只有读操作，而无写操作，一般来说，这个全局变量是线程安全的；若有多个线程同时执行写操作，一般都需要考虑线程同步，否则的话就可能影响线程安全。</p> <ul><li><p>理想情况</p> <p><img src="/assets/img/0135.6cbccfa5.png" alt="0135"></p></li> <li><p>极端情况</p> <p><img src="/assets/img/0136.ce7a40d2.png" alt="0136"></p></li></ul> <h2 id="_3-4、线程同步"><a href="#_3-4、线程同步" class="header-anchor">#</a> 3.4、线程同步</h2> <h3 id="_3-4-1、说明"><a href="#_3-4-1、说明" class="header-anchor">#</a> 3.4.1、说明</h3> <ul><li><p>安全问题出现的条件</p> <ul><li>是多线程环境</li> <li>有共享数据</li> <li>有多条语句操作共享数据</li></ul></li> <li><p>如何解决多线程安全问题呢?</p> <ul><li>基本思想：让程序没有安全问题的环境</li></ul></li> <li><p>怎么实现呢?</p> <ul><li>把多条语句操作共享数据的代码给锁起来，让任意时刻只能有一个线程执行即可</li> <li>java中提供了线程同步机制，它能够解决上述的线程安全问题。</li></ul></li> <li><p>线程同步的方式有两种：</p> <ul><li>方式1：同步代码块</li> <li>方式2：同步方法</li></ul></li></ul> <h3 id="_3-4-2、同步代码块"><a href="#_3-4-2、同步代码块" class="header-anchor">#</a> 3.4.2、同步代码块</h3> <p>​		同步代码块: 在代码块声明上 加上synchronized。</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">synchronized</span> <span class="token punctuation">(</span>锁对象<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	可能会产生线程安全问题的代码
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>​		<strong>同步代码块中的锁对象可以是任意的对象；但多个线程时，要使用同一个锁对象才能够保证线程安全。</strong></p> <p>​		使用同步代码块，对电影院卖票案例中Ticket类进行如下代码修改：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Ticket</span> <span class="token keyword">implements</span> <span class="token class-name">Runnable</span> <span class="token punctuation">{</span>
	<span class="token comment">//共100票</span>
	<span class="token keyword">int</span> ticket <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
	<span class="token comment">//定义锁对象</span>
	<span class="token class-name">Object</span> lock <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token comment">//模拟卖票</span>
		<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
			<span class="token comment">//同步代码块</span>
			<span class="token keyword">synchronized</span> <span class="token punctuation">(</span>lock<span class="token punctuation">)</span><span class="token punctuation">{</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span>ticket <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token comment">//模拟电影选坐的操作</span>
					<span class="token keyword">try</span> <span class="token punctuation">{</span>
						<span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
						e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token punctuation">}</span>
					<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> 
                                       <span class="token string">&quot;正在卖票:&quot;</span> <span class="token operator">+</span> ticket<span class="token operator">--</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h3 id="_3-4-3、同步方法"><a href="#_3-4-3、同步方法" class="header-anchor">#</a> 3.4.3、同步方法</h3> <p>​		同步方法：在方法声明上加上synchronized。</p> <p>​		<strong>同步方法中的锁对象是 this</strong> 。</p> <p>​		使用同步方法，对电影院卖票案例中Ticket类进行如下代码修改：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Ticket</span> <span class="token keyword">implements</span> <span class="token class-name">Runnable</span> <span class="token punctuation">{</span>
	<span class="token comment">//共100票</span>
	<span class="token keyword">int</span> ticket <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
	<span class="token comment">//定义锁对象</span>
	<span class="token class-name">Object</span> lock <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token comment">//模拟卖票</span>
		<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
			<span class="token comment">//同步方法</span>
			<span class="token function">method</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	<span class="token comment">//同步方法,锁对象this</span>
	<span class="token keyword">public</span> <span class="token keyword">synchronized</span> <span class="token keyword">void</span> <span class="token function">method</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>ticket <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token comment">//模拟选坐的操作</span>
			<span class="token keyword">try</span> <span class="token punctuation">{</span>
				<span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
				e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;正在卖票:&quot;</span> <span class="token operator">+</span> ticket<span class="token operator">--</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><h3 id="_3-4-4、静态同步方法"><a href="#_3-4-4、静态同步方法" class="header-anchor">#</a> 3.4.4、静态同步方法</h3> <p>​		在方法声明上加上static synchronized。</p> <p>​		<strong>静态同步方法中的锁对象是 类名.class</strong> 。</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SellTicket</span> <span class="token keyword">implements</span> <span class="token class-name">Runnable</span> <span class="token punctuation">{</span> 
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">int</span> tickets <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
    
	<span class="token keyword">private</span> <span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> 
    
    <span class="token annotation punctuation">@Override</span> 
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
            <span class="token function">sellTicket</span><span class="token punctuation">(</span><span class="token punctuation">)</span>； 
        <span class="token punctuation">}</span> 
    <span class="token punctuation">}</span> 
    
    <span class="token comment">// 静态同步方法 </span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">synchronized</span> <span class="token keyword">void</span> <span class="token function">sellTicket</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
        <span class="token keyword">if</span> <span class="token punctuation">(</span>tickets <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
            <span class="token keyword">try</span> <span class="token punctuation">{</span>
                <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
            <span class="token punctuation">}</span> 
            <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
                e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
            <span class="token punctuation">}</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> 
                               <span class="token string">&quot;正在出售第&quot;</span> <span class="token operator">+</span> tickets <span class="token operator">+</span> <span class="token string">&quot;张票&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> tickets<span class="token operator">--</span><span class="token punctuation">;</span> 
        <span class="token punctuation">}</span> 
    <span class="token punctuation">}</span> 
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SellTicketDemo</span> <span class="token punctuation">{</span> 
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
        <span class="token class-name">SellTicket</span> st <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SellTicket</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token class-name">Thread</span> t1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span>st<span class="token punctuation">,</span> <span class="token string">&quot;窗口1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token class-name">Thread</span> t2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span>st<span class="token punctuation">,</span> <span class="token string">&quot;窗口2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token class-name">Thread</span> t3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span>st<span class="token punctuation">,</span> <span class="token string">&quot;窗口3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        t1<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        t2<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        t3<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span> 
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br></div></div><h2 id="_3-5、线程安全的类"><a href="#_3-5、线程安全的类" class="header-anchor">#</a> 3.5、线程安全的类</h2> <ul><li><p>StringBuffffer</p> <ul><li>线程安全，可变的字符序列</li> <li>从版本JDK 5开始，被StringBuilder 替代。 通常应该使用StringBuilder类，因为它支持所有相同的操作，但它更快，因为它不执行同步</li></ul></li> <li><p>Vector</p> <ul><li>从Java 2平台v1.2开始，该类改进了List接口，使其成为Java Collections Framework的成员。 与新的集合实现不同， Vector被同步。 如果不需要线程安全的实现，建议使用ArrayList代替Vector</li></ul></li> <li><p>Hashtable</p> <ul><li>该类实现了一个哈希表，它将键映射到值。 任何非null对象都可以用作键或者值</li> <li>从Java 2平台v1.2开始，该类进行了改进，实现了Map接口，使其成为Java Collections Framework的成员。 与新的集合实现不同， Hashtable被同步。 如果不需要线程安全的实现，建议使用HashMap代替Hashtable 。</li></ul></li></ul> <h2 id="_3-6、死锁"><a href="#_3-6、死锁" class="header-anchor">#</a> 3.6、死锁</h2> <h3 id="_3-6-1、说明"><a href="#_3-6-1、说明" class="header-anchor">#</a> 3.6.1、说明</h3> <p>​		同步锁使用的弊端：当线程任务中出现了多个同步(多个锁)时，如果同步中嵌套了其他的同步。这时容易引发一种现象：程序出现无限等待，这种现象我们称为死锁。这种情况能避免就避免掉。</p> <p>​		简单理解：不同的线程分别占用对方需要的同步资源不放弃， 都在等待对方放弃自己需要的同步资源，就形成了线程的死锁。</p> <p>​		注意：</p> <ul><li>出现死锁后，不会出现异常，不会出现提示，只是所有的线程都处于阻塞状态，无法继续。</li> <li>我们使用同步时，要避免出现死锁。</li></ul> <h3 id="_3-6-2、格式"><a href="#_3-6-2、格式" class="header-anchor">#</a> 3.6.2、格式</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token function">synchronzied</span><span class="token punctuation">(</span><span class="token class-name">A</span>锁<span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token keyword">synchronized</span><span class="token punctuation">(</span><span class="token class-name">B</span>锁<span class="token punctuation">)</span><span class="token punctuation">{</span>
         
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="_3-6-3、代码实现"><a href="#_3-6-3、代码实现" class="header-anchor">#</a> 3.6.3、代码实现</h3> <ul><li><p>定义锁对象</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyLock</span> <span class="token punctuation">{</span>
	<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">Object</span> lockA <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">Object</span> lockB <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li> <li><p>线程任务类</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ThreadTask</span> <span class="token keyword">implements</span> <span class="token class-name">Runnable</span> <span class="token punctuation">{</span>
	<span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//0,1</span>
	<span class="token comment">//指定线程要执行的任务代码</span>
	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>x<span class="token operator">%</span><span class="token number">2</span> <span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token comment">//情况一</span>
				<span class="token keyword">synchronized</span> <span class="token punctuation">(</span><span class="token class-name">MyLock</span><span class="token punctuation">.</span>lockA<span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;if-LockA&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token keyword">synchronized</span> <span class="token punctuation">(</span><span class="token class-name">MyLock</span><span class="token punctuation">.</span>lockB<span class="token punctuation">)</span> <span class="token punctuation">{</span>
						<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;if-LockB&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
						<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;if大口吃肉&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token punctuation">}</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
				<span class="token comment">//情况二</span>
				<span class="token keyword">synchronized</span> <span class="token punctuation">(</span><span class="token class-name">MyLock</span><span class="token punctuation">.</span>lockB<span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;else-LockB&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token keyword">synchronized</span> <span class="token punctuation">(</span><span class="token class-name">MyLock</span><span class="token punctuation">.</span>lockA<span class="token punctuation">)</span> <span class="token punctuation">{</span>
						<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;else-LockA&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
						<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;else大口吃肉&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token punctuation">}</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
			x<span class="token operator">++</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div></li> <li><p>测试</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ThreadDemo</span> <span class="token punctuation">{</span>
	<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token comment">//创建线程任务类对象</span>
		<span class="token class-name">ThreadTask</span> task <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ThreadTask</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">//创建两个线程</span>
		<span class="token class-name">Thread</span> t1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span>task<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">Thread</span> t2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span>task<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">//启动线程</span>
		t1<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		t2<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div></li></ul> <h2 id="_3-7、lock锁"><a href="#_3-7、lock锁" class="header-anchor">#</a> 3.7、Lock锁</h2> <h3 id="_3-7-1、说明"><a href="#_3-7-1、说明" class="header-anchor">#</a> 3.7.1、说明</h3> <p>​		查阅API，查阅Lock接口描述，Lock 实现提供了比使用 synchronized 方法和语句可获得的更广泛的锁定操作。</p> <p>​		Lock接口中的常用方法：</p> <p><img src="data:image/png;base64,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" alt="0137"></p> <p>​		Lock提供了一个更加面对对象的锁，在该锁中提供了更多的操作锁的功能。</p> <p>​		我们使用Lock接口，以及其中的lock()方法和unlock()方法替代同步。</p> <h3 id="_3-7-2、案例修改"><a href="#_3-7-2、案例修改" class="header-anchor">#</a> 3.7.2、案例修改</h3> <p>​		对电影院卖票案例中Ticket类进行如下代码修改：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Ticket</span> <span class="token keyword">implements</span> <span class="token class-name">Runnable</span> <span class="token punctuation">{</span>
	<span class="token comment">//共100票</span>
	<span class="token keyword">int</span> ticket <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
	
	<span class="token comment">//创建Lock锁对象</span>
	<span class="token class-name">Lock</span> ck <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ReentrantLock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	
	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token comment">//模拟卖票</span>
		<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
			ck<span class="token punctuation">.</span><span class="token function">lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span>ticket <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token comment">//模拟选坐的操作</span>
					<span class="token keyword">try</span> <span class="token punctuation">{</span>
						<span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
						e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token punctuation">}</span>
					<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> 
                                       <span class="token string">&quot;正在卖票:&quot;</span> <span class="token operator">+</span> ticket<span class="token operator">--</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			ck<span class="token punctuation">.</span><span class="token function">unlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><h2 id="_3-8、等待唤醒机制"><a href="#_3-8、等待唤醒机制" class="header-anchor">#</a> 3.8、等待唤醒机制</h2> <h3 id="_3-8-1、线程间通信"><a href="#_3-8-1、线程间通信" class="header-anchor">#</a> 3.8.1、线程间通信</h3> <p>**概念：**多个线程在处理同一个资源，但是处理的动作（线程的任务）却不相同。</p> <p>​		比如：线程A用来生成包子的，线程B用来吃包子的，包子可以理解为同一资源，线程A与线程B处理的动作，一个是生产，一个是消费，那么线程A与线程B之间就存在线程通信问题。</p> <p><img src="/assets/img/2004.885e8ee2.png" alt="0138"></p> <p><strong>为什么要处理线程间通信：</strong></p> <p>​		多个线程并发执行时, 在默认情况下CPU是随机切换线程的，当我们需要多个线程来共同完成一件任务，并且我们希望他们有规律的执行, 那么多线程之间需要一些协调通信，以此来帮我们达到多线程共同操作一份数据。</p> <p><strong>如何保证线程间通信有效利用资源：</strong></p> <p>​		多个线程在处理同一个资源，并且任务不同时，需要线程通信来帮助解决线程之间对同一个变量的使用或操作。 就是多个线程在操作同一份数据时， 避免对同一共享变量的争夺。也就是我们需要通过一定的手段使各个线程能有效的利用资源。而这种手段即—— <strong>等待唤醒机制。</strong></p> <h3 id="_3-8-2、等待唤醒机制"><a href="#_3-8-2、等待唤醒机制" class="header-anchor">#</a> 3.8.2、等待唤醒机制</h3> <p><strong>什么是等待唤醒机制</strong></p> <p>​		这是多个线程间的一种<strong>协作</strong>机制。谈到线程我们经常想到的是线程间的<strong>竞争（race）</strong>，比如去争夺锁，但这并不是故事的全部，线程间也会有协作机制。就好比在公司里你和你的同事们，你们可能存在在晋升时的竞争，但更多时候你们更多是一起合作以完成某些任务。</p> <p>​		就是在一个线程进行了规定操作后，就进入等待状态（<strong>wait()</strong>）， 等待其他线程执行完他们的指定代码过后 再将其唤醒（<strong>notify()</strong>）;在有多个线程进行等待时， 如果需要，可以使用 notifyAll()来唤醒所有的等待线程。</p> <p>wait/notify 就是线程间的一种协作机制。</p> <p><strong>等待唤醒中的方法</strong></p> <p>等待唤醒机制就是用于解决线程间通信的问题的，使用到的3个方法的含义如下：</p> <ol><li>wait：线程不再活动，不再参与调度，进入 wait set 中，因此不会浪费 CPU 资源，也不会去竞争锁了，这时的线程状态即是 WAITING。它还要等着别的线程执行一个<strong>特别的动作</strong>，也即是“<strong>通知（notify）</strong>”在这个对象上等待的线程从wait set 中释放出来，重新进入到调度队列（ready queue）中</li> <li>notify：则选取所通知对象的 wait set 中的一个线程释放；例如，餐馆有空位置后，等候就餐最久的顾客最先入座。</li> <li>notifyAll：则释放所通知对象的 wait set 上的全部线程。</li></ol> <blockquote><p>注意：</p> <p>哪怕只通知了一个等待的线程，被通知线程也不能立即恢复执行，因为它当初中断的地方是在同步块内，而此刻它已经不持有锁，所以她需要再次尝试去获取锁（很可能面临其它线程的竞争），成功后才能在当初调用 wait 方法之后的地方恢复执行。</p> <p>总结如下：</p> <ul><li>如果能获取锁，线程就从 WAITING 状态变成 RUNNABLE 状态；</li> <li>否则，从 wait set 出来，又进入 entry set，线程就从 WAITING 状态又变成 BLOCKED 状态</li></ul></blockquote> <p><strong>调用wait和notify方法需要注意的细节</strong></p> <ol><li>wait方法与notify方法必须要由同一个锁对象调用。因为：对应的锁对象可以通过notify唤醒使用同一个锁对象调用的wait方法后的线程。</li> <li>wait方法与notify方法是属于Object类的方法的。因为：锁对象可以是任意对象，而任意对象的所属类都是继承了Object类的。</li> <li>wait方法与notify方法必须要在同步代码块或者是同步函数中使用。因为：必须要通过锁对象调用这2个方法。</li></ol> <h3 id="_3-8-3、生产者与消费者问题"><a href="#_3-8-3、生产者与消费者问题" class="header-anchor">#</a> 3.8.3、生产者与消费者问题</h3> <p>​		等待唤醒机制其实就是经典的“生产者与消费者”的问题。</p> <p>​		就拿生产包子消费包子来说等待唤醒机制如何有效利用资源：</p> <blockquote><p>包子铺线程生产包子，吃货线程消费包子。当包子没有时（包子状态为false），吃货线程等待，包子铺线程生产包子（即包子状态为true），并通知吃货线程（解除吃货的等待状态）,因为已经有包子了，那么包子铺线程进入等待状态。接下来，吃货线程能否进一步执行则取决于锁的获取情况。如果吃货获取到锁，那么就执行吃包子动作，包子吃完（包子状态为false），并通知包子铺线程（解除包子铺的等待状态）,吃货线程进入等待。包子铺线程能否进一步执行则取决于锁的获取情况。</p></blockquote> <h3 id="_3-8-4、代码实现"><a href="#_3-8-4、代码实现" class="header-anchor">#</a> 3.8.4、代码实现</h3> <ul><li><p>包子资源类</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BaoZi</span> <span class="token punctuation">{</span>
     <span class="token class-name">String</span>  pier <span class="token punctuation">;</span>
     <span class="token class-name">String</span>  xianer <span class="token punctuation">;</span>
     <span class="token keyword">boolean</span>  flag <span class="token operator">=</span> <span class="token boolean">false</span> <span class="token punctuation">;</span><span class="token comment">//包子资源 是否存在  包子资源状态</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li> <li><p>吃货线程类</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ChiHuo</span> <span class="token keyword">extends</span> <span class="token class-name">Thread</span><span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">BaoZi</span> bz<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">ChiHuo</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span><span class="token class-name">BaoZi</span> bz<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>bz <span class="token operator">=</span> bz<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">synchronized</span> <span class="token punctuation">(</span>bz<span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>bz<span class="token punctuation">.</span>flag <span class="token operator">==</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment">//没包子</span>
                    <span class="token keyword">try</span> <span class="token punctuation">{</span>
                        bz<span class="token punctuation">.</span><span class="token function">wait</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;吃货正在吃&quot;</span><span class="token operator">+</span>bz<span class="token punctuation">.</span>pier<span class="token operator">+</span>bz<span class="token punctuation">.</span>xianer<span class="token operator">+</span><span class="token string">&quot;包子&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                bz<span class="token punctuation">.</span>flag <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
                bz<span class="token punctuation">.</span><span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div></li> <li><p>包子铺线程类</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BaoZiPu</span> <span class="token keyword">extends</span> <span class="token class-name">Thread</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">BaoZi</span> bz<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">BaoZiPu</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span><span class="token class-name">BaoZi</span> bz<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>bz <span class="token operator">=</span> bz<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token comment">//造包子</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token comment">//同步</span>
            <span class="token keyword">synchronized</span> <span class="token punctuation">(</span>bz<span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>bz<span class="token punctuation">.</span>flag <span class="token operator">==</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment">//包子资源  存在</span>
                    <span class="token keyword">try</span> <span class="token punctuation">{</span>

                        bz<span class="token punctuation">.</span><span class="token function">wait</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

                    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>

                <span class="token comment">// 没有包子  造包子</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;包子铺开始做包子&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>count<span class="token operator">%</span><span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                    <span class="token comment">// 冰皮  五仁</span>
                    bz<span class="token punctuation">.</span>pier <span class="token operator">=</span> <span class="token string">&quot;冰皮&quot;</span><span class="token punctuation">;</span>
                    bz<span class="token punctuation">.</span>xianer <span class="token operator">=</span> <span class="token string">&quot;五仁&quot;</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
                    <span class="token comment">// 薄皮  牛肉大葱</span>
                    bz<span class="token punctuation">.</span>pier <span class="token operator">=</span> <span class="token string">&quot;薄皮&quot;</span><span class="token punctuation">;</span>
                    bz<span class="token punctuation">.</span>xianer <span class="token operator">=</span> <span class="token string">&quot;牛肉大葱&quot;</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                count<span class="token operator">++</span><span class="token punctuation">;</span>

                bz<span class="token punctuation">.</span>flag<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;包子造好了：&quot;</span><span class="token operator">+</span>bz<span class="token punctuation">.</span>pier<span class="token operator">+</span>bz<span class="token punctuation">.</span>xianer<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;吃货来吃吧&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token comment">//唤醒等待线程 （吃货）</span>
                bz<span class="token punctuation">.</span><span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br></div></div></li> <li><p>测试类</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Demo</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//等待唤醒案例</span>
        <span class="token class-name">BaoZi</span> bz <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BaoZi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">ChiHuo</span> ch <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ChiHuo</span><span class="token punctuation">(</span><span class="token string">&quot;吃货&quot;</span><span class="token punctuation">,</span>bz<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">BaoZiPu</span> bzp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BaoZiPu</span><span class="token punctuation">(</span><span class="token string">&quot;包子铺&quot;</span><span class="token punctuation">,</span>bz<span class="token punctuation">)</span><span class="token punctuation">;</span>

        ch<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        bzp<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div></li></ul> <h1 id="四、线程生命周期"><a href="#四、线程生命周期" class="header-anchor">#</a> 四、线程生命周期</h1> <h2 id="_4-1、说明"><a href="#_4-1、说明" class="header-anchor">#</a> 4.1、说明</h2> <p>​		线程的生命周期，又叫线程的状态。</p> <p>​		当线程被创建并启动以后，它既不是一启动就进入了执行状态，也不是一直处于执行状态。在线程的生命周期中， 有几种状态呢？在API中 java.lang.Thread.State 这个枚举中给出了六种线程状态：</p> <p><img src="/assets/img/0132.ef746c55.png" alt="0132"></p> <p>​		我们不需要去研究这几种状态的实现原理，我们只需知道在做线程操作中存在这样的状态。那我们怎么去理解这几个状态呢，新建与被终止还是很容易理解的，我们就研究一下线程从Runnable（可运行）状态与非运行状态之间的转换问题。</p> <h2 id="_4-2、状态图"><a href="#_4-2、状态图" class="header-anchor">#</a> 4.2、状态图</h2> <p><img src="/assets/img/0133.32aa7918.png" alt="0133"></p> <h2 id="_4-3、初始状态"><a href="#_4-3、初始状态" class="header-anchor">#</a> 4.3、初始状态</h2> <p>​		通过继承Thread类或实现Runnable接口得到一个线程类，new一个实例出来，这个生成的线程就进入了初始状态。</p> <p>​		该线程没有被start()启动，但也不代表调用了start()状态就立即改变状态，中间还有一些步骤，如果在这个启动的过程中有另一个线程来获取它的状态，其实是不确定的，要看那些中间步骤是否已经完成了。</p> <h2 id="_4-4、运行状态"><a href="#_4-4、运行状态" class="header-anchor">#</a> 4.4、运行状态</h2> <h3 id="_4-4-1、就绪状态"><a href="#_4-4-1、就绪状态" class="header-anchor">#</a> 4.4.1、<strong>就绪状态</strong></h3> <p>​		包括了操作系统线程状态中的Running和Ready，也就是处于此状态的线程可能正在运行，也可能正在等待系统资源，如等待CPU为它分配时间片。就绪状态有资格运行，但是要等到调度程序选到，不选到永远都是就绪状态。</p> <p>​		进入就绪状态的几种方式：</p> <ul><li>新建的线程调用start()方法进入就绪状态。</li> <li>运行中线程时间片用完了，调用该线程的yield()方法进入就绪状态。</li> <li>等待锁资源的线程拿到对象锁后进入就绪状态。</li> <li>当前线程sleep()结束、其他线程join()结束、等待用户输入完毕、某个线程拿到对象锁，这些线程也将进入就绪状态。</li></ul> <h3 id="_4-4-2、运行中状态"><a href="#_4-4-2、运行中状态" class="header-anchor">#</a> 4.4.2、<strong>运行中状态</strong></h3> <p>​		线程调度程序从可运行线程池中选择一个线程作为当前线程时，该线程所处的状态。</p> <h2 id="_4-5、超时等待"><a href="#_4-5、超时等待" class="header-anchor">#</a> 4.5、超时等待</h2> <h3 id="_4-5-1、说明"><a href="#_4-5-1、说明" class="header-anchor">#</a> 4.5.1、说明</h3> <p>​		Timed Waiting在API中的描述为：一个正在限时等待另一个线程执行一个（唤醒）动作的线程处于这一状态。单独的去理解这句话，真是玄之又玄，其实我们在之前的操作中已经接触过这个状态了，在哪里呢？</p> <p>​		在我们写卖票的案例中，为了减少线程执行太快，现象不明显等问题，我们在run方法中添加了sleep语句，这样就强制当前正在执行的线程休眠（<strong>暂停执行</strong>），以“减慢线程”。</p> <p>​		其实当我们调用了sleep方法之后，当前执行的线程就进入到“休眠状态”，其实就是所谓的Timed Waiting(计时等待)，那么我们通过一个案例加深对该状态的一个理解。</p> <h3 id="_4-5-2、案例"><a href="#_4-5-2、案例" class="header-anchor">#</a> 4.5.2、案例</h3> <p>​		实现一个计数器，计数到100，在每个数字之间暂停1秒，每隔10个数字输出一个字符串 。</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyThread</span> <span class="token keyword">extends</span> <span class="token class-name">Thread</span> <span class="token punctuation">{</span> 
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">100</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">10</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;‐‐‐‐‐‐‐&quot;</span> <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
 			<span class="token punctuation">}</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span> 
            <span class="token keyword">try</span> <span class="token punctuation">{</span>
                <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot; 线程睡眠1秒！\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
            <span class="token punctuation">}</span> 
            <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
                e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
            <span class="token punctuation">}</span> 
        <span class="token punctuation">}</span> 
    <span class="token punctuation">}</span>
    
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
        <span class="token keyword">new</span> <span class="token class-name">MyThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span> 
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>​		通过案例可以发现，sleep方法的使用还是很简单的。我们需要记住下面几点：</p> <ul><li>进入 TIMED_WAITING 状态的一种常见情形是调用的 sleep 方法，单独的线程也可以调用，不一定非要有协</li></ul> <p>作关系。</p> <ul><li>为了让其他线程有机会执行，可以将Thread.sleep()的调用<strong>放线程run()之内</strong>。这样才能保证该线程执行过程中会睡眠</li> <li>sleep与锁无关，线程睡眠到期自动苏醒，并返回到Runnable（可运行）状态。</li></ul> <blockquote><p>sleep()中指定的时间是线程不会运行的最短时间。因此，sleep()方法不能保证该线程睡眠到期后就开始立刻执行。</p></blockquote> <p><img src="/assets/img/0138.a2be1a73.png" alt="0138"></p> <h2 id="_4-6、blocked-锁阻塞"><a href="#_4-6、blocked-锁阻塞" class="header-anchor">#</a> 4.6、BLOCKED（锁阻塞）</h2> <h3 id="_4-6-1、说明"><a href="#_4-6-1、说明" class="header-anchor">#</a> 4.6.1、说明</h3> <p>​		Blocked状态在API中的介绍为：一个正在阻塞等待一个监视器锁（锁对象）的线程处于这一状态。</p> <p>​		我们已经学完同步机制，那么这个状态是非常好理解的了。比如，线程A与线程B代码中使用同一锁，如果线程A获取到锁，线程A进入到Runnable状态，那么线程B就进入到Blocked锁阻塞状态。</p> <p>​		这是由Runnable状态进入Blocked状态。</p> <h3 id="_4-6-2、图示"><a href="#_4-6-2、图示" class="header-anchor">#</a> 4.6.2、图示</h3> <p><img src="/assets/img/0139.22a22ea1.png" alt="0139"></p> <h2 id="_4-7、-waiting-无限等待"><a href="#_4-7、-waiting-无限等待" class="header-anchor">#</a> 4.7、 Waiting（无限等待）</h2> <h3 id="_4-7-1、说明"><a href="#_4-7-1、说明" class="header-anchor">#</a> 4.7.1、说明</h3> <p>​		Wating状态在API中介绍为：一个正在无限期等待另一个线程执行一个特别的（唤醒）动作的线程处于这一状态。</p> <h3 id="_4-7-2、代码演示"><a href="#_4-7-2、代码演示" class="header-anchor">#</a> 4.7.2、代码演示</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">WaitingTest</span> <span class="token punctuation">{</span> 
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Object</span> obj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
        <span class="token comment">// 演示waiting </span>
        <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Runnable</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
            <span class="token annotation punctuation">@Override</span> <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
                <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">{</span> 
                    <span class="token keyword">synchronized</span> <span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">{</span> 
                        <span class="token keyword">try</span> <span class="token punctuation">{</span>
                            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
                                               <span class="token operator">+</span><span class="token string">&quot;=== 获取到锁对象，调用wait方法，进入waiting状													 态，释放锁对象&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
                            obj<span class="token punctuation">.</span><span class="token function">wait</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//无限等待</span>
                             
                        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
                            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
                        <span class="token punctuation">}</span>
                        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
                                           <span class="token operator">+</span> <span class="token string">&quot;=== 从waiting状 态醒来，获取到锁对象，继续执行												 了&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
                    <span class="token punctuation">}</span> 
                <span class="token punctuation">}</span> 
            <span class="token punctuation">}</span> 
        <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token string">&quot;等待线程&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Runnable</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
            <span class="token annotation punctuation">@Override</span> 
            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
                <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">{</span> 
                	<span class="token comment">//每隔3秒 唤醒一次 </span>
                    <span class="token keyword">try</span> <span class="token punctuation">{</span>
                        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
                                           <span class="token operator">+</span><span class="token string">&quot;‐‐‐‐‐ 等待3秒钟&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
                        <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
                    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
                        e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
                    <span class="token punctuation">}</span>
                    <span class="token keyword">synchronized</span> <span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">{</span> 
                        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
                                           <span class="token operator">+</span><span class="token string">&quot;‐‐‐‐‐ 获取到锁对 象,调用notify方法，释放锁对象&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 							obj<span class="token punctuation">.</span><span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
                    <span class="token punctuation">}</span> 
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span> 
        <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token string">&quot;唤醒线程&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br></div></div><p>​		当多个线程协作时，比如A，B线程，如果A线程在Runnable（可运行）状态中调用了wait()方法那么A线程就进入了Waiting（无限等待）状态，同时失去了同步锁。假如这个时候B线程获取到了同步锁，在运行状态中调用了notify()方法，那么就会将无限等待的A线程唤醒。注意是唤醒，如果获取到锁对象，那么A线程唤醒后就进入 Runnable（可运行）状态；如果没有获取锁对象，那么就进入到Blocked（锁阻塞状态）。</p> <h3 id="_4-7-3、图示"><a href="#_4-7-3、图示" class="header-anchor">#</a> 4.7.3、图示</h3> <p><img src="/assets/img/0140.83c51295.png" alt="0140"></p> <h2 id="_4-8、总结"><a href="#_4-8、总结" class="header-anchor">#</a> 4.8、总结</h2> <p><img src="/assets/img/0141.379de9f6.png" alt="0141"></p> <blockquote><p>我们在翻阅API的时候会发现Timed Waiting（计时等待） 与 Waiting（无限等待） 状态联系还是很紧密的， 比如Waiting（无限等待） 状态中wait方法是空参的，而timed waiting（计时等待） 中wait方法是带参的。 这种带参的方法，其实是一种倒计时操作，相当于我们生活中的小闹钟，我们设定好时间，到时通知，可是 如果提前得到（唤醒）通知，那么设定好时间在通知也就显得多此一举了，那么这种设计方案其实是一举两 得。如果没有得到（唤醒）通知，那么线程就处于Timed Waiting状态,直到倒计时完毕自动醒来；如果在倒 计时期间得到（唤醒）通知，那么线程从Timed Waiting状态立刻唤醒。</p></blockquote> <h1 id="五、线程池"><a href="#五、线程池" class="header-anchor">#</a> 五、线程池</h1> <h2 id="_5-1、说明"><a href="#_5-1、说明" class="header-anchor">#</a> 5.1、说明</h2> <p>​		我们使用线程的时候就去创建一个线程，这样实现起来非常简便，但是就会有一个问题：</p> <p>​		如果并发的线程数量很多，并且每个线程都是执行一个时间很短的任务就结束了，这样频繁创建线程就会大大降低系统的效率，因为频繁创建线程和销毁线程需要时间。</p> <p>​		那么有没有一种办法使得线程可以复用，就是执行完一个任务，并不被销毁，而是可以继续执行其他的任务？在Java中可以通过线程池来达到这样的效果。</p> <h2 id="_5-2、概念"><a href="#_5-2、概念" class="header-anchor">#</a> 5.2、概念</h2> <p>​		线程池：其实就是一个容纳多个线程的容器，其中的线程可以反复使用，省去了频繁创建线程对象的操作，无需反复创建线程而消耗过多资源。</p> <p>​		由于线程池中有很多操作都是与优化资源相关的，我们在这里就不多赘述。我们通过一张图来了解线程池的工作原理：</p> <p><img src="/assets/img/2001.dc7a4469.png" alt="0142"></p> <p>合理利用线程池能够带来三个好处：</p> <ol><li>降低资源消耗。减少了创建和销毁线程的次数，每个工作线程都可以被重复利用，可执行多个任务。</li> <li>提高响应速度。当任务到达时，任务可以不需要的等到线程创建就能立即执行。</li> <li>提高线程的可管理性。可以根据系统的承受能力，调整线程池中工作线线程的数目，防止因为消耗过多的内存，而把服务器累趴下(每个线程需要大约1MB内存，线程开的越多，消耗的内存也就越大，最后死机)。</li></ol> <h2 id="_5-3、为什么要使用线程池"><a href="#_5-3、为什么要使用线程池" class="header-anchor">#</a> 5.3、为什么要使用线程池？</h2> <p>​		在java中，如果每个请求到达就创建一个新线程，开销是相当大的。在实际使用中，创建和销毁线程花费的时间和消耗的系统资源都相当大，甚至可能要比在处理实际的用户请求的时间和资源要多的多。除了创建和销毁线程的开销之外，活动的线程也需要消耗系统资源。如果在一个jvm里创建太多的线程，可能会使系统由于过度消耗内存或“切换过度”而导致系统资源不足。为了防止资源不足，需要采取一些办法来限制任何给定时刻处理的请求数目，尽可能减少创建和销毁线程的次数，特别是一些资源耗费比较大的线程的创建和销毁，尽量利用已有对象来进行服务。</p> <p>​		线程池主要用来解决线程生命周期开销问题和资源不足问题。通过对多个任务重复使用线程，线程创建的开销就被分摊到了多个任务上了，而且由于在请求到达时线程已经存在，所以消除了线程创建所带来的延迟。这样，就可以立即为请求服务，使用应用程序响应更快。另外，通过适当的调整线程中的线程数目可以防止出现资源不足的情况。</p> <h2 id="_5-4、线程池的使用"><a href="#_5-4、线程池的使用" class="header-anchor">#</a> 5.4、线程池的使用</h2> <h3 id="_5-4-1、说明"><a href="#_5-4-1、说明" class="header-anchor">#</a> 5.4.1、说明</h3> <p>​		Java里面线程池的顶级接口是<code>java.util.concurrent.Executor</code>，但是严格意义上讲<code>Executor</code>并不是一个线程池，而只是一个执行线程的工具。真正的线程池接口是<code>java.util.concurrent.ExecutorService</code>。</p> <p>​		要配置一个线程池是比较复杂的，尤其是对于线程池的原理不是很清楚的情况下，很有可能配置的线程池不是较优的，因此在<code>java.util.concurrent.Executors</code>线程工厂类里面提供了一些静态工厂，生成一些常用的线程池。官方建议使用Executors工程类来创建线程池对象。</p> <p>​		Executors类中有个创建线程池的方法如下：</p> <ul><li><code>public static ExecutorService newFixedThreadPool(int nThreads)</code>：返回线程池对象。(创建的是有界线程池,也就是池中的线程个数可以指定最大数量)</li></ul> <p>获取到了一个线程池ExecutorService 对象，那么怎么使用呢，在这里定义了一个使用线程池对象的方法如下：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token operator">*</span> `<span class="token keyword">public</span> <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> <span class="token function">submit</span><span class="token punctuation">(</span><span class="token class-name">Runnable</span> task<span class="token punctuation">)</span>`<span class="token operator">:</span>获取线程池中的某一个线程对象，并执行
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><blockquote><p>Future接口：用来记录线程任务执行完毕后产生的结果。线程池创建与使用。</p></blockquote> <h2 id="_5-5、使用线程池方式-runnable接口"><a href="#_5-5、使用线程池方式-runnable接口" class="header-anchor">#</a> 5.5、使用线程池方式-Runnable接口</h2> <h3 id="_5-5-1、步骤"><a href="#_5-5-1、步骤" class="header-anchor">#</a> 5.5.1、步骤</h3> <p>使用线程池中线程对象的步骤：</p> <ol><li>创建线程池对象。</li> <li>创建Runnable接口子类对象。(task)</li> <li>提交Runnable接口子类对象。(take task)</li> <li>关闭线程池(一般不做)。</li></ol> <h3 id="_5-5-2、代码实现"><a href="#_5-5-2、代码实现" class="header-anchor">#</a> 5.5.2、代码实现</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyRunnable</span> <span class="token keyword">implements</span> <span class="token class-name">Runnable</span> <span class="token punctuation">{</span>
	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;我要一个教练&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		
		<span class="token keyword">try</span> <span class="token punctuation">{</span>
			<span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;教练来了： &quot;</span> <span class="token operator">+</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;教我游泳,交完后，教练回到了游泳池&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ThreadPoolDemo</span> <span class="token punctuation">{</span>
	<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token comment">//创建线程池对象</span>
		<span class="token class-name">ExecutorService</span> service <span class="token operator">=</span> <span class="token class-name">Executors</span><span class="token punctuation">.</span><span class="token function">newFixedThreadPool</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//包含2个线程对象</span>
		<span class="token comment">//创建Runnable实例对象</span>
		<span class="token class-name">MyRunnable</span> r <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyRunnable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		
		<span class="token comment">//从线程池中获取线程对象,然后调用MyRunnable中的run()</span>
		service<span class="token punctuation">.</span><span class="token function">submit</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">//再获取个线程对象，调用MyRunnable中的run()</span>
		service<span class="token punctuation">.</span><span class="token function">submit</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span><span class="token punctuation">;</span>
		service<span class="token punctuation">.</span><span class="token function">submit</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">//注意：submit方法调用结束后，程序并不终止，是因为线程池控制了线程的关闭。</span>
        <span class="token comment">//     将使用完的线程又归还到了线程池中</span>

		<span class="token comment">//关闭线程池</span>
		service<span class="token punctuation">.</span><span class="token function">shutdown</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h2 id="_5-6、使用线程池方式-callable接口"><a href="#_5-6、使用线程池方式-callable接口" class="header-anchor">#</a> 5.6、使用线程池方式—Callable接口</h2> <h3 id="_5-6-1、说明"><a href="#_5-6-1、说明" class="header-anchor">#</a> 5.6.1、说明</h3> <ul><li><p>Callable接口：与Runnable接口功能相似，用来指定线程的任务。其中的call()方法，用来返回线程任务执行完毕后的结果，call方法可抛出异常。</p></li> <li><p>ExecutorService：线程池类</p></li></ul> <div class="language-java line-numbers-mode"><pre class="language-java"><code>  ​	<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">submit</span><span class="token punctuation">(</span><span class="token class-name">Callable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> task<span class="token punctuation">)</span>：获取线程池中的某一个线程对象，并执行线程中的<span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span>方法
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li><p>Future接口：用来记录线程任务执行完毕后产生的结果。</p></li> <li><p>使用线程池中线程对象的步骤：</p> <ul><li>创建线程池对象</li> <li>创建Callable接口子类对象</li> <li>提交Callable接口子类对象</li> <li>关闭线程池（一般不会关闭）</li></ul></li></ul> <h3 id="_5-6-2、代码实现"><a href="#_5-6-2、代码实现" class="header-anchor">#</a> 5.6.2、代码实现</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyCallable</span> <span class="token keyword">implements</span> <span class="token class-name">Callable</span> <span class="token punctuation">{</span>
	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;我要一个教练:call&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;教练来了： &quot;</span> <span class="token operator">+</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;教我游泳,交完后,教练回到了游泳池&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ThreadPoolDemo</span> <span class="token punctuation">{</span>
	<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token comment">//创建线程池对象</span>
		<span class="token class-name">ExecutorService</span> service <span class="token operator">=</span> <span class="token class-name">Executors</span><span class="token punctuation">.</span><span class="token function">newFixedThreadPool</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//包含2个线程对象</span>
		<span class="token comment">//创建Callable对象</span>
		<span class="token class-name">MyCallable</span> c <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyCallable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		
		<span class="token comment">//从线程池中获取线程对象,然后调用MyRunnable中的run()</span>
		service<span class="token punctuation">.</span><span class="token function">submit</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>
		
		<span class="token comment">//再获取个教练</span>
		service<span class="token punctuation">.</span><span class="token function">submit</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>
		service<span class="token punctuation">.</span><span class="token function">submit</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">//注意：submit方法调用结束后，程序并不终止，是因为线程池控制了线程的关闭。</span>
        <span class="token comment">//     将使用完的线程又归还到了线程池中</span>

		<span class="token comment">//关闭线程池</span>
		service<span class="token punctuation">.</span><span class="token function">shutdown</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h2 id="_5-7、线程池练习"><a href="#_5-7、线程池练习" class="header-anchor">#</a> 5.7、线程池练习</h2> <h3 id="_5-7-1、需求"><a href="#_5-7-1、需求" class="header-anchor">#</a> 5.7.1、需求</h3> <p>​		要求：通过线程池中的线程对象，使用Callable接口完成两个数求和操作。</p> <h3 id="_5-7-2、说明"><a href="#_5-7-2、说明" class="header-anchor">#</a> 5.7.2、说明</h3> <ul><li>Future接口：用来记录线程任务执行完毕后产生的结果。线程池创建与使用
<ul><li>V get() 获取Future对象中封装的数据结果</li></ul></li></ul> <h3 id="_5-7-3、代码实现"><a href="#_5-7-3、代码实现" class="header-anchor">#</a> 5.7.3、代码实现</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyCallable</span> <span class="token keyword">implements</span> <span class="token class-name">Callable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
	<span class="token comment">//成员变量</span>
	<span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> y <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
	<span class="token comment">//构造方法</span>
	<span class="token keyword">public</span> <span class="token class-name">MyCallable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">public</span> <span class="token class-name">MyCallable</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> x<span class="token punctuation">;</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> y<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> x<span class="token operator">+</span>y<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ThreadPoolDemo</span> <span class="token punctuation">{</span>
	<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
		<span class="token comment">//创建线程池对象</span>
		<span class="token class-name">ExecutorService</span> threadPool <span class="token operator">=</span> <span class="token class-name">Executors</span><span class="token punctuation">.</span><span class="token function">newFixedThreadPool</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		
		<span class="token comment">//创建一个Callable接口子类对象</span>
		<span class="token comment">//MyCallable c = new MyCallable();</span>
		<span class="token class-name">MyCallable</span> c <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyCallable</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">MyCallable</span> c2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyCallable</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		
		<span class="token comment">//获取线程池中的线程，调用Callable接口子类对象中的call()方法, 完成求和操作</span>
		<span class="token comment">//&lt;Integer&gt; Future&lt;Integer&gt; submit(Callable&lt;Integer&gt; task)</span>
		<span class="token comment">// Future 结果对象</span>
		<span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> result <span class="token operator">=</span> threadPool<span class="token punctuation">.</span><span class="token function">submit</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">//此 Future 的 get 方法所返回的结果类型</span>
		<span class="token class-name">Integer</span> sum <span class="token operator">=</span> result<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;sum=&quot;</span> <span class="token operator">+</span> sum<span class="token punctuation">)</span><span class="token punctuation">;</span>
		
		<span class="token comment">//再演示</span>
		result <span class="token operator">=</span> threadPool<span class="token punctuation">.</span><span class="token function">submit</span><span class="token punctuation">(</span>c2<span class="token punctuation">)</span><span class="token punctuation">;</span>
		sum <span class="token operator">=</span> result<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;sum=&quot;</span> <span class="token operator">+</span> sum<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">//关闭线程池(可以不关闭)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div></div> <footer class="page-edit" style="display:none;"><!----> <!----></footer> <!----> <!----></main> <!----> <div class="comments-wrapper" data-v-4698c43e><!----></div></div></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-44bd5a18 data-v-44bd5a18><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-44bd5a18><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-44bd5a18></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-44bd5a18></path></svg></div><!----><div></div><!----><div class="reco-bgm-panel" data-v-b1d3339e><audio id="bgm" src="https://music.163.com/song/media/outer/url?id=316756.mp3" data-v-b1d3339e></audio> <div class="reco-float-box" style="bottom:200px;z-index:999999;display:none;" data-v-b1d3339e data-v-41bcba48 data-v-b1d3339e><img src="https://p2.music.126.net/qOOTIykbSLw9RHB0vI83GA==/737772302281958.jpg" data-v-b1d3339e></div> <div class="reco-bgm-box" style="left:10px;bottom:10px;z-index:999999;" data-v-b1d3339e data-v-41bcba48 data-v-b1d3339e><div class="reco-bgm-cover" style="background-image:url(https://p2.music.126.net/qOOTIykbSLw9RHB0vI83GA==/737772302281958.jpg);" data-v-b1d3339e><div class="mini-operation" style="display:none;" data-v-b1d3339e><i class="reco-bgm reco-bgm-pause" style="display:none;" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-play" style="display:none;" data-v-b1d3339e></i></div> <div class="falut-message" style="display:none;" data-v-b1d3339e>
          播放失败
        </div></div> <div class="reco-bgm-info" data-v-b1d3339e data-v-41bcba48 data-v-b1d3339e><div class="info-box" data-v-b1d3339e><i class="reco-bgm reco-bgm-music music" data-v-b1d3339e></i>大城小事</div> <div class="info-box" data-v-b1d3339e><i class="reco-bgm reco-bgm-artist" data-v-b1d3339e></i>杨千嬅</div> <div class="reco-bgm-progress" data-v-b1d3339e><div class="progress-bar" data-v-b1d3339e><div class="bar" data-v-b1d3339e></div></div></div> <div class="reco-bgm-operation" data-v-b1d3339e><i class="reco-bgm reco-bgm-last last" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-pause pause" style="display:none;" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-play play" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-next next" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-volume1 volume" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-mute mute" style="display:none;" data-v-b1d3339e></i> <div class="volume-bar" data-v-b1d3339e><div class="bar" data-v-b1d3339e></div></div></div></div> <div class="reco-bgm-left-box" data-v-b1d3339e data-v-41bcba48 data-v-b1d3339e><i class="reco-bgm reco-bgm-left" data-v-b1d3339e></i></div></div></div><!----></div></div>
    <script src="/assets/js/app.38effb1a.js" defer></script><script src="/assets/js/4.a5fe3d1f.js" defer></script><script src="/assets/js/1.d44b9672.js" defer></script><script src="/assets/js/5.1bd179c6.js" defer></script><script src="/assets/js/25.ffc473ff.js" defer></script>
  </body>
</html>
